{# (c) Crown Owned Copyright, 2016. Dstl. #}
{% extends "layout.html" %}

{% block grid_content %}
  <h1>Search</h1>
  <form method="get" action=".">
    <table>
    {{ form.as_table }}
    <tr>
    <td>&nbsp;</td>
    <td>
    <input type="submit" value="Search">
    </td>
    </tr>
    </table>
  </form>

  {% if query %}
    {% if page.object_list %}
      <h2>Results</h2>

      <ul id='search-results'>
        {% for result in page.object_list %}
          <li><a href="{{ result.object.get_absolute_url }}">{{ result.object.name }}</a></li>
        {% endfor %}
      </ul>

      {% if page.has_previous or page.has_next %}
        <div>
          {% if page.has_previous %}<a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; Previous{% if page.has_previous %}</a>{% endif %}
          |
          {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}Next &raquo;{% if page.has_next %}</a>{% endif %}
        </div>
      {% endif %}
    {% else %}
      <p>No results found for <q>{{query}}</q>.</p>
    {% endif %}
  {% endif %}

{% endblock %}
