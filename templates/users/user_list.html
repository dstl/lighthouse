{# (c) Crown Owned Copyright, 2016. Dstl. #}
{% extends "layout.html" %}

{% block page_title %}Users{% endblock %}

{% block grid_content %}

<div class="grid-row">
  <div class="column-two-thirds">
    <h1 class="heading-xlarge">Users</h1>
  </div>
</div>

<div class="grid-row">
  <div class="column-two-thirds">
    {% if total_users_in_db > 0 %}
      <p class="lede">
        These are the users currently registered with the system. Click on a user to view more information.
      </p>

      <ul class="list list-bullet user-list">
        {% for user in object_list %}
          <li><a class="main-list-item" href='{% url "user-detail" user.slug %}'>{{user.username|default:user.original_slug}}</a></li>
        {% endfor %}
      </ul>

      {% include "includes/pagination.html" %}

    {% else %}
      <div class="alert-summary" role="group">
        <h3 class="heading-medium alert-summary-heading">No users added yet.</h3>
        <p>
          Hey there, it doesn't look like any users have been added to the system
          yet. Which is crazy, because there has to be at least one (you) to be
          logged in and view this page.
        </p>
        <p>
          Regarless of the impossible: <a href="{% url 'login-view' %}">go and create the first user</a>.
        </p>
      </div>
    {% endif %}
  </div>

  <div class="column-one-third">
    {% include "includes/top_organisations.html" %}
    {% include "includes/top_teams.html" %}
  </div>
{% endblock %}
